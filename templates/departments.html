{% extends 'base.html' %}
{% block title %}Departments â€“ CampusConnect{% endblock %}
{% block page_title %}Departments{% endblock %}
{% block content %}
<div class="page-header"><div class="page-header-title"><i class="fas fa-building me-2 text-teal"></i>Academic Departments</div><div class="page-header-sub">ISBM College of Engineering, Pune</div></div>
<div class="page-content">
  <div class="row g-4">
    {% set grad = ['linear-gradient(135deg,#0d2035,#1a4080)','linear-gradient(135deg,#2d0a3a,#6d1a7e)','linear-gradient(135deg,#0a2d1a,#1a6b35)','linear-gradient(135deg,#2d1a00,#805020)','linear-gradient(135deg,#0d2d2d,#006060)','linear-gradient(135deg,#1a0d2d,#5a1a9a)'] %}
    {% set icons = ['fa-microchip','fa-network-wired','fa-broadcast-tower','fa-cog','fa-hard-hat','fa-robot'] %}
    {% for dept in depts %}
    <div class="col-md-6 col-lg-4">
      <div class="card h-100">
        <div style="background:{{ grad[loop.index0 % 6] }};padding:28px;border-radius:14px 14px 0 0;text-align:center">
          <i class="fas {{ icons[loop.index0 % 6] }}" style="font-size:2.5rem;opacity:.6;margin-bottom:12px;display:block;color:white"></i>
          <h5 style="font-weight:700;color:white;margin-bottom:4px">{{ dept.code }}</h5>
          <div style="font-size:.78rem;color:rgba(255,255,255,.7)">{{ dept.name }}</div>
        </div>
        <div class="card-body">
          <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;text-align:center;margin-bottom:12px">
            <div style="background:var(--c-surface);border-radius:8px;padding:10px"><div style="font-weight:700;color:var(--c-teal)">{{ stats[dept.id].students }}</div><div style="font-size:.7rem;color:var(--c-muted)">Students</div></div>
            <div style="background:var(--c-surface);border-radius:8px;padding:10px"><div style="font-weight:700;color:var(--c-amber)">{{ dept.intake }}</div><div style="font-size:.7rem;color:var(--c-muted)">Intake</div></div>
            <div style="background:var(--c-surface);border-radius:8px;padding:10px"><div style="font-weight:700;color:var(--c-coral)">{{ stats[dept.id].events }}</div><div style="font-size:.7rem;color:var(--c-muted)">Events</div></div>
          </div>
          <div style="font-size:.83rem;color:var(--c-muted);margin-bottom:4px"><i class="fas fa-user-tie me-2 text-teal"></i>HOD: {{ dept.hod or 'N/A' }}</div>
          <div style="font-size:.83rem;color:var(--c-muted);margin-bottom:12px"><i class="fas fa-calendar me-2 text-teal"></i>Est. {{ dept.established }}</div>
          {% if dept.description %}<div style="font-size:.8rem;color:var(--c-muted);line-height:1.5">{{ dept.description }}</div>{% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
